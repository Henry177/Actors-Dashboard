package bbd.dashboard.dao.redmine;

import java.io.StringReader;
import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import org.apache.http.HttpEntity;
import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;
import org.apache.http.util.EntityUtils;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.w3c.dom.Document;
import org.w3c.dom.Element;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;
import org.xml.sax.InputSource;

import com.google.gson.reflect.TypeToken;

import bbd.dashboard.DashboardUtils;

public class RedmineDAO {
	private static RedmineDAO instance;
	
	private RedmineDAO() {
	}
	
	public static RedmineDAO getInstance() {
		if(instance == null)
			instance = new RedmineDAO();
		
		return instance;
	}
	
	private Type listType = new TypeToken<List<JSONObject>>(){}.getType();
//****Retrieves the XML from redmine for queries (5107, 5108 and 5109) and derializes the data and parses the required data into a JSONArray****
public String getRedmineQuery()
  {
	String[] id = {"5107","5108","5109"};
	String URL = "https://redmine.acturis.com//projects/yellow-application-development-r6-0-l/issues.xml?query_id=";
	String Authentication ="&key=04c263c64e89b13424e67b5da2bcac4f82c1a8f8";				
	List<JSONObject> results = new ArrayList<JSONObject>();

	try {
		//****Loop through all the queries (5107, 5108 and 5109)****
		for (int i = 0; i < id.length; i++)
		{				
			@SuppressWarnings({ "resource", "deprecation" })
			DefaultHttpClient client = new DefaultHttpClient();
			HttpGet request = new HttpGet(URL + id[i] + Authentication);
	        HttpResponse response = client.execute(request);
	        HttpEntity entity = response.getEntity();
	        String content = EntityUtils.toString(entity);
	        
	        String RedmineXML = content;
	        
	        if(id[i].equals("5107"))
	        {
	        	  //****Query 5107 variables***
	        	  String queryID5107 = "";
	        	  String subject5107 = "";
	        	  String assignee5107 = "";
	        	  String analyst5107 = "";
	        	  int x;
	        	  JSONObject jObj5107 = new JSONObject();
	        	 
				  DocumentBuilder builder5107 = DocumentBuilderFactory.newInstance().newDocumentBuilder();
				  InputSource src5107 = new InputSource();
				  src5107.setCharacterStream(new StringReader(RedmineXML));
				  Document doc5107 = builder5107.parse(src5107);
				  
				  NodeList issuesElements5107 = doc5107.getElementsByTagName("issues");
				  
				  Node issuesElement5107 = issuesElements5107.item(0);
				  
				  NodeList issues5107 = issuesElement5107.getChildNodes();
				  
				  Element issue5107;
				  //***Loop through all the issues in the query (total number of records for the query)***
				  for (x = 0; x < issues5107.getLength(); x++) 
				  {
					  issue5107 = (Element)issues5107.item(x);
					  
					  queryID5107 = issue5107.getElementsByTagName("id").item(0).getTextContent();
					  subject5107 = issue5107.getElementsByTagName("subject").item(0).getTextContent();
					  assignee5107 = issue5107.getElementsByTagName("assigned_to").item(0).getAttributes().getNamedItem("name").getNodeValue();
					  analyst5107 = "";
					  
					  NodeList customfieldsElements5107 = issue5107.getElementsByTagName("custom_fields");
					  Node customfieldElement5107 = customfieldsElements5107.item(0);						  
					  
					  NodeList customefields5107 = customfieldElement5107.getChildNodes(); 	
					  
					  Element customeField5107;
					  //****Loop through all the custom_field elements until the name attribute equals "Analyst Assigned To" then set the analyst variable = to the value of the cutom_field element****
					  for (int y = 0; y < customefields5107.getLength(); y++) 
					  {
						  customeField5107 = (Element)customefields5107.item(y);
						  String assignedCheck5107 = issue5107.getElementsByTagName("custom_field").item(y).getAttributes().getNamedItem("name").getNodeValue();
						  //System.out.println(assignedCheck);
						  if(assignedCheck5107.equals("Analyst Assigned To"))
						  {
							  analyst5107 = customeField5107.getElementsByTagName("value").item(0).getTextContent();
							  break;
						  }	
					  }
					  
					  //****Add all the variables to the JSONObject****
					  jObj5107.put("Query", id[i]);
					  jObj5107.put("Id", queryID5107);
					  jObj5107.put("Subject", subject5107);
					  jObj5107.put("Assignee", assignee5107);
					  jObj5107.put("Analyst", analyst5107);	
					  //****Add the JSONObject to the JSONArray
					  results.add(jObj5107);
				  }	
				  
			}
	        if(id[i].equals("5108"))
	        {
	        	//****Query 5108 variables***
	        	  String queryID5108 = "";
	        	  String subject5108 = "";
	        	  String assignee5108 = "";
	        	  String analyst5108 = "";
	        	  int x;
	        	  JSONObject jObj5108 = new JSONObject();
	        	 
				  DocumentBuilder builder5108 = DocumentBuilderFactory.newInstance().newDocumentBuilder();
				  InputSource src5108 = new InputSource();
				  src5108.setCharacterStream(new StringReader(RedmineXML));
				  Document doc5108 = builder5108.parse(src5108);
				  
				  NodeList issuesElements5108 = doc5108.getElementsByTagName("issues");
				  
				  Node issuesElement5108 = issuesElements5108.item(0);
				  
				  NodeList issues5108 = issuesElement5108.getChildNodes();
				  
				  Element issue5108;
				  //***Loop through all the issues in the query (total number of records for the query)***
				  for (x = 0; x < issues5108.getLength(); x++) 
				  {
					  issue5108 = (Element)issues5108.item(x);
					  
					  queryID5108 = issue5108.getElementsByTagName("id").item(0).getTextContent();
					  subject5108 = issue5108.getElementsByTagName("subject").item(0).getTextContent();
					  assignee5108 = issue5108.getElementsByTagName("assigned_to").item(0).getAttributes().getNamedItem("name").getNodeValue();
					  analyst5108 = "";
					  
					  NodeList customfieldsElements5108 = issue5108.getElementsByTagName("custom_fields");
					  Node customfieldElement5108 = customfieldsElements5108.item(0);						  
					  
					  NodeList customefields5108 = customfieldElement5108.getChildNodes(); 	
					  
					  Element customeField5108;
					  //****Loop through all the custom_field elements until the name attribute equals "Analyst Assigned To" then set the analyst variable = to the value of the cutom_field element****
					  for (int y = 0; y < customefields5108.getLength(); y++) 
					  {
						  customeField5108 = (Element)customefields5108.item(y);
						  String assignedCheck5108 = issue5108.getElementsByTagName("custom_field").item(y).getAttributes().getNamedItem("name").getNodeValue();
						  //System.out.println(assignedCheck);
						  if(assignedCheck5108.equals("Analyst Assigned To"))
						  {
							  analyst5108 = customeField5108.getElementsByTagName("value").item(0).getTextContent();
							  break;
						  }	
					  }
					  
					  //****Add all the variables to the JSONObject****
					  jObj5108.put("Query", id[i]);
					  jObj5108.put("Id", queryID5108);
					  jObj5108.put("Subject", subject5108);
					  jObj5108.put("Assignee", assignee5108);
					  jObj5108.put("Analyst", analyst5108);	
					  //****Add the JSONObject to the JSONArray
					  results.add(jObj5108);
		    }	
				  		        }
	        if(id[i].equals("5109"))
	        {
	        	  /*JSONObject jObj5109 = new JSONObject();
				  DocumentBuilder builder5109 = DocumentBuilderFactory.newInstance().newDocumentBuilder();
				  InputSource src5109 = new InputSource();
				  src5109.setCharacterStream(new StringReader(RedmineXML));
				  Document doc5109 = builder5109.parse(src5109);
				  
				  NodeList issuesElements5109 = doc5109.getElementsByTagName("issues");
				  
				  Node issuesElement5109 = issuesElements5109.item(0);
				  
				  NodeList issues5109 = issuesElement5109.getChildNodes();
				  
				  Element issue5109;
				  for (int x = 0; x < issues5109.getLength(); x++) 
				  {
					  issue5109 = (Element)issues5109.item(x);
					  
					  //Set variables = to XML elements
					  String queryID5109 = issue5109.getElementsByTagName("id").item(0).getTextContent();
					  
					  //Add variables to JSONObject
					  jObj5109.put("Query", id[i]);
					  
					  //Add JSONObject to JSONArray (results)
					  results.put(jObj5108.toString());
				  }*/
	        }
	        if(!id[i].equals("5107") && !id[i].equals("5108") && !id[i].equals("5109")) 
	        {
	        	System.out.println(id[i] + "is an invalid Query number, code only exists for Queries (5107, 5108 and 5109)." );
	        }
		}
		
		
		return DashboardUtils.toJson(results, listType);
		
	} catch (Exception e) 
	{
		e.printStackTrace();
		return null;
	}
  } 

public String getRedmineQueryTest()
  {
	String[] id = {"5107","5108","5109"};				
	List<JSONObject> results = new ArrayList<JSONObject>();

	try {
		//****Loop through all the queries (5107, 5108 and 5109)****
		for (int i = 0; i < id.length; i++)
		{								
			//****Test Data****
			String RedmineXML5107 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><issues total_count=\"4\" offset=\"0\" limit=\"25\" type=\"array\"><issue><id>252398</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"1\" name=\"Active\"/><priority id=\"5\" name=\"High\"/><author id=\"310\" name=\"James Aston\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><subject>REG - AddReceipt AllocationRule Save Error</subject><description>Please could someone take a look at this and advise ASAP? This is an old call we need to work for the next few months, but will eventually be expired off for client ledger rewrite. If you run the call and set AllocationRule to 0 (Manual) it saves 0 to the DB, because this is the enumeration. Is there any way you can make this save null? We can't change the FLV row because NULL is not a valid value for the column</description><start_date>2016-09-06</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value></value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value><value>6.0.6 (Pre-Prod)</value><value>6.0.6 (Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Accounting - Client Ledger</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value></value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value></value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1) Run AddReceipt WS, setting AllocationRule to 0 2) Open the app for the broker and office 3) Go to accounting -&gt; Client Ledger -&gt; Receipt Entry 4) Locate the receipt created with the ref ::Allocation Rule is blank - DEFECT - This is because AllocationRule was saved to the DB as 0 rather than NULL. Can the SCC decode before it sends it in? Else, can the BE? 5) Run procedure 1 for the ReceiptRef and update FLX_PRS_OWNER if not Acturis01 ::auto_cash_rule returns as 0 - DEFECT - This needs to save as NULL rather than 0</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value></value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>--Procedure1-- select auto_cash_rule from arcb@flexi where flx_prs_owner = 'ACTU01' and cash_batch_id = :ReceiptRef;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value></value></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value></value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value></value></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value></value></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value></value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value></value></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Thabisile Ramathibela</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value></value></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value></value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value></value></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value></value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value></value></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value></value></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value></value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value></value></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value></value></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value></value></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value></value></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Accounting - Client Ledger</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>AddReceipt</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk &gt; PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod &gt; Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>1</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value></value></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value></value></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value></value></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value></value></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value></value></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value></value></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value></value></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value></value></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value></value></custom_field></custom_fields><created_on>2016-09-06T18:08:00Z</created_on><updated_on>2016-09-07T10:10:10Z</updated_on><closed_on/></issue><issue><id>251970</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"170\" name=\"[Trunk] Dev Internal Test\"/><priority id=\"6\" name=\"Medium\"/><author id=\"426\" name=\"Anthony Mercer\"/><assigned_to id=\"126\" name=\"Vandra Wiehahn\"/><parent id=\"235184\"/><subject>CR1032 - ApplyPartClaimsHistory function - PartRef mismatch validation functioning incorrectly</subject><description>Hi, Section 10.1.1.2 of the CR specifies that an error should be returned if the results of the GetPolMainFromAnyPolPartEx procedure for the rows sent in do not match. It seems that instead the method is comparing the PartRef values that were sent in, as it is failing whenever they are different even if the procedure gives the same values. Thanks, Anthony</description><start_date>2016-09-02</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>RFQ\\Quote\\Policy - Claims History</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value></value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value></value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Ensure a product is configured so that claims can be added to multiple part types on the same product. 2. Add an RFQ for the product from step 1, go to the Claims History screen, and add two claims history entries to different parts. :: DEFECT - Log ID as per Additional Info</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value></value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>ApplyPartClaimsHistory::ApplyPartClaimsHistory::This call cannot be used on multiple RFQs or Policies.</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value></value></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value></value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value></value></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value></value></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value></value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value></value></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value></value></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Chad Mortlock</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Full Policy</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value></value></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value></value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value></value></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value></value></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value></value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value></value></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value></value></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value></value></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value></value></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>RFQ\\Quote\\Policy - Claims History</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk &gt; PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod &gt; Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value></value></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value></value></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value></value></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value></value></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value></value></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value></value></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value></value></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value></value></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value></value></custom_field></custom_fields><created_on>2016-09-02T13:48:28Z</created_on><updated_on>2016-09-07T13:09:02Z</updated_on><closed_on/></issue><issue><id>250361</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"1\" name=\"Active\"/><priority id=\"5\" name=\"High\"/><author id=\"48\" name=\"Marcin Dembowski\"/><assigned_to id=\"48\" name=\"Marcin Dembowski\"/><subject>REG - LocateProcessRequest - 'More results are available than the range selected' returned when there are no more results</subject><description>If the value of LastResult = the number of records that can be returned for the LocateProcessRequest call, the 'More results are available than the range selected' (Result = 237) message is returned.</description><start_date>2016-08-22</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>Internal Report</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value><value>6.0.6 (Pre-Prod)</value><value>6.0.6 (Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Process Execution</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value></value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value></value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Use AddProcessRequest to add a process, make a note of ProcessRequestRef 2. Execute the LocateProcessRequest ws call using         &lt;LocateProcessRequestSearchOn Value=\"3\" /&gt; and LocateProcessRequestSearchOnValue value = value from step 1. Set &lt;LastResult Value=\"1\" /&gt;. DEFECT - the &lt;Result Value=\"237\" Desc=\"More results are available than the range selected\" Code=\"1620800137\" Type=\"Information\" /&gt;  present in the response, although no more results are available</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value></value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value></value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value></value></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value></value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value></value></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value></value></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>'More results are available than the range selected' result was returned even if no additional results were available. This has been fixed.</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value></value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value></value></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value></value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value></value></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value></value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value></value></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value></value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value></value></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value></value></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value></value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value></value></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value></value></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value></value></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value></value></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Process Execution</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>LocateProcessRequest</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk &gt; PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod &gt; Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>1</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value></value></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value></value></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value></value></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value></value></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value></value></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value></value></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value></value></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value></value></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value>1</value></custom_field></custom_fields><created_on>2016-08-22T15:05:25Z</created_on><updated_on>2016-09-05T13:41:31Z</updated_on><closed_on/></issue><issue><id>247059</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"1\" name=\"Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"815\" name=\"Emily Waters\"/><assigned_to id=\"194\" name=\"Stephen Nicholas\"/><parent id=\"241122\"/><subject>CR1059 A1 Link Questions doesn't add Question to Part</subject><description>CR1059 A1 Link Questions doesn't add Question to Part</description><start_date>2016-07-25</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value></value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Internal Tools - Product Builder</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1130.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value></value></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1) Locate aircraft product in product builder 2) Navigate to the link questions screen 3) Type 'test' in the name field and search 4) Select a question in the results frame 5) Select Link 6) Type 'test' into the external code field and save 7) Navigate to Maintain product questions screen ::New question does not appear in the results frame</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>New question appears in results frame</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value></value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value></value></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value></value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value></value></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value></value></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>TD 15/08/2016: Fixed in Trunk v1130.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value></value></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value></value></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Stephen Nicholas</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value></value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value></value></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value></value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value></value></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value></value></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value></value></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value></value></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value></value></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value></value></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>N/A</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Internal Tools - Product Builder</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk &gt; PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod &gt; Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value></value></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value></value></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value></value></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value></value></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"></value></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value></value></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value></value></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value></value></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value></value></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value></value></custom_field></custom_fields><created_on>2016-07-25T10:29:48Z</created_on><updated_on>2016-08-31T15:00:51Z</updated_on><closed_on/></issue></issues>";
			String RedmineXML5108 = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><issues total_count=\"88\" offset=\"0\" limit=\"25\" type=\"array\"><issue><id>252397</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"913\" name=\"Aishah Hassan-Adde\"/><assigned_to id=\"963\" name=\"Karabo Modise \"/><parent id=\"212436\"/><subject>CR1028 - Authorisation code for claim authority is returning incorrectly in FinaliseClaimAmount call</subject><description>Hi, The authorisation codes for claim authority limits do not return in the FinaliseClaimAmount call when they are supposed but the authorisation code field returns on a fraud suspected claim that has no claim authority set up. Can you take a look please? Thanks, Aishah</description><start_date>2016-09-06</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims - Amounts/Invoicing</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value/></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add a claim and set the claim to fraud suspected (ensure that no claim authority is set up) 2. Add a claim amount 3. Initialise the FinaliseClaimAmount call :: DEFECT - AuthorisationCode field returns 1. Add a claim 2. Set up a claim authority on this claim 3. Go to the Claim Authority Limits GMT and set up limits 4. Go to the Claim Authority GMT and tick override and type in an authcode and extended authcode 5. Add a claim amount and exceed the limits set in the GMT in step 3 (either do this via ABP or SetClaimAmountAllocations call) 6. Initialise the FinaliseClaimAmount call :: DEFECT - AuthorisationCode or ExtendedAuthorisationCode field (depending on which is exceeded) does not return</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value>N/A</value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Karabo Modise</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Chad Mortlock</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value/></custom_field><custom_field id=\"773\" name=\"App Module\"><value/></custom_field><custom_field id=\"774\" name=\"WS Function\"><value/></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value/></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-09-06T17:08:39Z</created_on><updated_on>2016-09-08T04:53:03Z</updated_on><closed_on/></issue><issue><id>252391</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"913\" name=\"Aishah Hassan-Adde\"/><assigned_to id=\"963\" name=\"Karabo Modise \"/><parent id=\"212436\"/><subject>CR1028 - Incorrect error code returns in FinaliseClaimAmount call when SelfFinaliseAuthorisationCode is entered</subject><description>Hi, When the FinaliseClaimAmount call is run with self finalise authorisation code enabled, this error code returns 'The Self Finalise Authorisation Code entered is incorrect' even though the auth code entered is correct. Can you please take a look? Thanks, Aishah</description><start_date>2016-09-06</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims - Amounts/Invoicing</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value/></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add a claim 2. Add a claim amount 3. Go to Broker Finalise Claim Amount Options GMT for your brokerage and tick 'Broker Self Finalise Override Allowed?' and type in an Authcode 4. Initialise the FinaliseClaimAmount call for the claimamount added in step 2 5. Type in the correct authcode in the SelfFinaliseAuthorisationCode field and run the call :: DEFECT - Error code returns 'The Self Finalise Authorisation Code entered is incorrect' even though auth code entered is correct</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value>N/A</value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Karabo Modise</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Marthinus Rheeder</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value/></custom_field><custom_field id=\"773\" name=\"App Module\"><value/></custom_field><custom_field id=\"774\" name=\"WS Function\"><value/></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value/></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-09-06T16:56:50Z</created_on><updated_on>2016-09-08T04:53:57Z</updated_on><closed_on/></issue><issue><id>252366</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"913\" name=\"Aishah Hassan-Adde\"/><assigned_to id=\"963\" name=\"Karabo Modise \"/><parent id=\"212440\"/><subject>CR1028 - [Add/Update/Finalise]ClaimAmount Call returns an unknown critical error</subject><description>Hi When the [Add/Update/Finalise]ClaimAmount calls are run for a fraud suspected claim then an 'Unknown' critical error returns but the call still succeeds. The information code 1111 should return instead.  Can you please take a look? Thanks, Aishah</description><start_date>2016-09-06</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims - Amounts/Invoicing</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value/></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add a claim and set the claim to fraud suspected  2. Add a claim amount by running the AddClaimAmount WS call :: DEFECT - 'Unknown' critical error returns instead of following info code: 'The claim is indicated as fraudulent.' Call still succeeds 3. Run the UpdateClaimAmount call  :: DEFECT - 'Unknown' critical error returns instead of following info code: 'The claim is indicated as fraudulent.' Call still succeeds 4. Go to the Broker Claim Fraud Authorisation GMT and tick 'Finalise Allowed When Fraud Suspected?' (and tick status also) for your brokerage 5. Run the FinaliseClaimAmount call for the claim amount added in step 2  :: DEFECT - 'Unknown' critical error returns instead of following info code: 'The claim is indicated as fraudulent.' Call still succeeds</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value>N/A</value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Karabo Modise</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Chad Mortlock</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value/></custom_field><custom_field id=\"773\" name=\"App Module\"><value/></custom_field><custom_field id=\"774\" name=\"WS Function\"><value/></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value/></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-09-06T16:07:09Z</created_on><updated_on>2016-09-08T04:55:07Z</updated_on><closed_on/></issue><issue><id>252309</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"426\" name=\"Anthony Mercer\"/><assigned_to id=\"963\" name=\"Karabo Modise \"/><subject>LocateInvolvedPartyComplaint gives critical error</subject><description>Hi, On Pre-Prod, the LocateInvolvedPartyComplaint call is currently returning a critical error. Log attached. Thanks, Anthony</description><start_date>2016-09-06</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Locate Screen - Locate Complaint</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value/></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value/></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Karabo Modise</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Locate Screen - Locate Complaint</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value/></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-09-06T14:03:59Z</created_on><updated_on>2016-09-08T04:56:28Z</updated_on><closed_on/></issue><issue><id>251695</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"125\" name=\"[Pre-Prod] Dev Internal Test\"/><priority id=\"6\" name=\"Medium\"/><author id=\"426\" name=\"Anthony Mercer\"/><assigned_to id=\"126\" name=\"Vandra Wiehahn\"/><parent id=\"214287\"/><subject>CR945 - DoClaimMainDetail - Critical error on trying to add claim to policy outside of validation date when overrides are allowed</subject><description>Hi, When the Broker Claim Validations are set so that override without an authcode is allowed, adding a claim outside the date range gives a database error indicating that the foreign key from Claim to ClaimCategory is being violated. This only seems to happen through web services - the ABP works correctly. Log attached. Thanks, Anthony</description><start_date>2016-09-01</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims - Configuration</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1139.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. In the Broker Claim Validation GMT, go to your brokerage and ensure that Status is ticked, Allow Override is ticked, and Auth Code Required is unticked. 2. Add a Non-System Policy whose Effective Date and Term End Date are in the past, and accept it. 3. Initialise the AddClaim call using the ContactRef and VersionRef of your policy. Fill in all mandatory fields and execute the call. :: DEFECT - Database error</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 01/09/2016 Fixed in prod patch v1139.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Marthinus Rheeder</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>N/A</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>N/A</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>AddClaim</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-09-01T09:42:22Z</created_on><updated_on>2016-09-07T13:34:10Z</updated_on><closed_on/></issue><issue><id>251011</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"5\" name=\"High\"/><author id=\"426\" name=\"Anthony Mercer\"/><assigned_to id=\"194\" name=\"Stephen Nicholas\"/><parent id=\"214176\"/><subject>CR945 - Add Claim / Claim Main Details screens - Log ID on clicking Apply</subject><description>Hi, The Add Claim and Claim Main Details screens are giving a Log ID on clicking Apply on Pre-Prod:<pre>Error Occurred. Log ID : 1368834302 Error No : 7 Internal system error, description 'Out of memory' occurred, in module ClaimItem and was handled in ClaimItem. Please contact your system administrator with this information.</pre>This appears to only occur for users not using Acturis Assistant, i.e. those who access the ABP by directly typing a URL into Internet Explorer. Thanks, Anthony</description><start_date>2016-08-26</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims - General</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value/></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Go to an Add Claim screen, fill in all mandatory fields, and Apply. :: DEFECT - Log ID 2. Go to the Main Details screen for an existing claim, change any values, and Apply. :: DEFECT - Log ID</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>N/A</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Stephen Nicholas</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Front-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Claims  General</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-08-26T08:33:27Z</created_on><updated_on>2016-09-07T09:06:43Z</updated_on><closed_on/></issue><issue><id>250199</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"252\" name=\"James Gillard\"/><assigned_to id=\"124\" name=\"Phillip Whittaker\"/><subject>Change Binary Endpoint Compression Level to \"BestSpeed\"</subject><description>Please can the compression level setting for the binary endpoint in SCC be updated to \"BestSpeed\" from the current setting of \"BestCompression\"?</description><start_date>2016-08-19</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value><value>6.0.6 (Pre-Prod)</value><value>6.0.6 (Prod)</value><value>6.0.5</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>User Interface - Standard control</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1138.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value/></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>Change implemented to reduce the compression level of payloads sent to Release 7.</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Phillip Whittaker</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value/></custom_field><custom_field id=\"773\" name=\"App Module\"><value/></custom_field><custom_field id=\"774\" name=\"WS Function\"><value/></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value/></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"><value>-----------------</value></value></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value>1</value></custom_field></custom_fields><created_on>2016-08-19T16:27:56Z</created_on><updated_on>2016-09-07T06:19:37Z</updated_on><closed_on/></issue><issue><id>249121</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"125\" name=\"[Pre-Prod] Dev Internal Test\"/><priority id=\"6\" name=\"Medium\"/><author id=\"426\" name=\"Anthony Mercer\"/><assigned_to id=\"126\" name=\"Vandra Wiehahn\"/><parent id=\"177874\"/><subject>CR926 A2 - Claim/Complaint Involved Parties - Company Type defaults to Limited when inactive</subject><description>Hi, The Company Type dropdown on the Claim/Complaint Involved Parties screens is defaulting to Limited even if that option is not available to the broker. Can this please be updated to instead default to the first item returned by the parameter version, regardless of whether it is Limited? Thanks, Anthony</description><start_date>2016-08-12</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims - Involved Parties</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1137.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. In the Broker Company Type GMT, remove the link to Limited for your brokerage. 2. Open the ABP and open a claim. Click Add in the Involved Parties frame. Select an Involved Party Category, then set Contact Type to Company. :: DEFECT - Company Type set to Limited which is not available for this brokerage 3. Repeat step 3 for a complaint instead of a claim. :: Same defect</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 29/08/2016 Fixed in prod patch v1137.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Stephen Nicholas</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value>Claim, ClaimItem, Complaints, ComplaintItem, PolicyItem</value></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Front-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Claims  Involved Parties</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-08-12T09:03:04Z</created_on><updated_on>2016-09-07T10:10:00Z</updated_on><closed_on/></issue><issue><id>248883</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"219\" name=\"Richard Mayhew\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223957\"/><subject>CR972 - GetPostAcceptPolicyAddOnRiskDocuments correction</subject><description>Hi, In version 51 of the CR the GetPostAcceptPolicyAddOnRiskDocuments procedure was updated to fix a problem with extra tables being in there main WHERE clause (note these are correctly in the sub query): ,QuoteCoIns QCI ,Product PD ,PartType PCD {{collapse(Could the SQL be updated please; updated sql here)<pre><code class=\"sql\">SELECT PM.EntSeqNo AS ContactRef ,PM.PolPartSeqNo AS PartRef ,A.ActivitySeqNo AS ActivityRef ,AD.ActivityDocSeqNo AS DocumentRef ,PM.PolicyAddOnInd AS IsAddOnIndicator ,PM.ProductTargetSeqNo AS ProductTarget ,PM.InsSeqNo AS Insurer ,PM.ProductSeqNo AS Product ,PM.ProductName AS ProductName ,SUBSTR(A.Status,3,2) AS ContextType ,( SELECT MIN(R.RefNo) FROM RefTable R WHERE R.RefTypeSeqNo = SUBSTR(A.Status,3,2)  AND R.ActivitySeqNo =  A.ActivitySeqNo  ) AS ContextRef     ,TO_CHAR (A.ActivityDate, 'YYYYMMDDHH24MISS') AS ActivityDate ,TO_CHAR (A.ActivityTime, 'YYYYMMDDHH24MISS') AS ActivityTime ,A.ActivityTypeSeqNo AS ActivityType ,A.ActivityDirectionSeqNo AS ActivityDirection ,A.Comments AS ActivityDescription ,R.HideInd AS HideActivityIndicator ,U.UsrUserSeqNo AS LastUpdatedBy     ,A.VersionNo AS VersionNo ,DECODE(SUBSTR(a.Status,1,1),1,6,5) AS LatestVersionIndicator ,PMA.PreAcceptRiskDocInd AS PreAcceptRiskDocIndicator ,PMA.PostAcceptRiskDocInd AS PostAcceptRiskDocIndicator ,DECODE(AR.ParentActivitySeqNo, -1, AR.ChildActivitySeqNo, AR.ParentActivitySeqNo) as ParentActivityRef ,AD.DocName AS DocumentRef_Detail ,NVL(DECODE(AD.AttFileInd, 5, 7, 6, DECODE(AD.Status, 6, 6, 5, DECODE(AD.DocPath, 'No Path', 8, 5)), 7, DECODE(AD.Status, 6, 6, 5, DECODE(AD.DocPath, 'No Path', 8, 5))), -1) AS DocumentRef_AttachedInd ,NVL(AD.AddedByUserSeqNo, -1) AS AddedBy ,AD.AddedByDate AS AddedDate ,AD.UNCOMPRSSDFLSIZE AS FileSize FROM (SELECT POL.PolMainSeqNo, PM_AO.BusEventSeqNo, PM_AO.ProductTargetSeqNo, PM_AO.ProductSeqNo, PM_AO.PolPartSeqNo, NVL(PM_AO.DisplayName,PCD.Name) AS ProductName, QCI.InsSeqNo, PM_AO.PolicyAddOnInd, PM_AO.EntSeqNo FROM PolMain PM, PolMainRel PMR_AOPOL, Policy POL, PolMain PM_AO, QuoteCoIns QCI, Product PD, PrdtCommDetails PCD WHERE  PM.PolPartSeqNo = :PartRef AND PM.BusEventSeqNo IN (0 ,1 ,2 ,3 ,4 ,6 ,8) AND PM.EntSeqNo = :ContactRef AND PM.PolMainSeqNo = PMR_AOPOL.ParentPolMainSeqNo AND PMR_AOPOL.PolMainRelTypeSeqNo = 11 AND PMR_AOPOL.ChildPolMainSeqNo = POL.PolMainSeqNo AND PMR_AOPOL.ChildPolMainSeqNo = PM_AO.PolMainSeqNo AND PM.PolPartSeqNo = QCI.PolPartSeqNo AND QCI.Status = 1 AND QCI.PrimInsInd = 6 AND PM_AO.ProductSeqNo = PD.ProductSeqNo AND PD.PrdtCommDetSeqNo = PCD.PrdtCommDetSeqNo ) PM ,PolMainActivityDocLink PMA ,ActivityDoc AD ,ActivityLog A ,ActivityRel AR ,RefTable R ,UsrUser U    WHERE    PM.PolMainSeqNo = PMA.PolMainSeqNo $IncludePreAcceptRiskDocuments $IncludePostAcceptRiskDocuments AND PMA.ActivityDocSeqNo = AD.ActivityDocSeqNo AND AD.ActivitySeqNo = A.ActivitySeqNo AND  A.ActivitySeqNo = R.ActivitySeqNo AND DECODE(PM.BusEventSeqNo,0,4,2) = R.RefTypeSeqNo  --Match BusEventSeqNo to RefType row on RefTable AND A.ActivitySeqNo = AR.ChildActivitySeqNo AND U.LogonID (+) = A.USID AND A.BrokSeqNo = :BrokSeqNo ;</code></pre>}} Thanks, Richard</description><start_date>2016-08-10</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>Internal Report</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>RFQ\\Quote\\Policy - Add Ons</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1133.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value/></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 22/08/2016 Fixed in prod patch v1133.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>PolMainActivityDocLink.xsi</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>XSI query change</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>RFQ\\Quote\\Policy - Add Ons</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-08-10T10:04:43Z</created_on><updated_on>2016-08-25T15:03:17Z</updated_on><closed_on/></issue><issue><id>248472</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"5\" name=\"High\"/><author id=\"760\" name=\"David Chamberlain\"/><assigned_to id=\"755\" name=\"George Lekala\"/><subject>AccountSummaryTX.GetContactInvoiceDetails SQL Change</subject><description>Hi, Please can the AccountSummaryTX.GetContactInvoiceDetails SQL be updated to the following:<pre>SELECT DECODE(e.firstnames, NULL, e.name , e.name||', '||e.firstnames) AS ContactName , id.invno                       AS InvoiceNo , id.pymntmethodsseqno           AS PaymentMethod , CASE  WHEN id.pymntmethodsseqno IN (1,7) THEN id.clientpay ELSE id.invamnt   END                            AS InvoiceAmount , NULL                           AS InvoiceOutstandingAmount , TO_CHAR(id.invdate,'YYYYMMDD') AS InvoiceDate , TO_CHAR(id.invduedate,'YYYYMMDD') AS InvoiceDueDate , NULL                           AS InvoicePaidDate , id.brokoffseqno                AS InvoiceOffice , id.invoicedby                  AS InvoicedBy , DECODE(id.invdetstatus, 0, 1   , 1, 2 , 2, 2 , 3, 2 , 4, 2 , 5, 2 , 6, 2 , 7, 2 , 9, 2 , 10, 2 , 8, 3 , -2, 4) AS InvoiceStatus , DECODE(id.InvoiceTypeSeqNo,6,6,5)    AS PreAuthIndicator , DECODE(id.InvoiceTypeSeqNo,8,6,5)    AS PreApprovalIndicator , NULL                           AS Entity , CASE WHEN id.pymntmethodsseqno IN (1,7) THEN id.payplanseqno                ELSE NULL END                            AS PlanType , id.carddepositind              AS CardDepositIndicator , CASE WHEN id.pymntmethodsseqno IN (1,7) THEN id.finchrg ELSE NULL END                            AS PayPlanFinanceCharge , CASE WHEN id.pymntmethodsseqno IN (1,7) THEN id.apr ELSE NULL END                            AS PayPlanAPR , bd.bankaccountname             AS BankAccountName , bd.bankaccountno               AS BankAccountNo , bd.banksortcode                AS BankSortCode , cc.creditcardtxnseqno          AS CreditCardTransactionRef , cc.datacashref                 AS DataCashRef , cc.CreditCardAccountSeqNo      AS CreditCardAccount , cc.amntcharged                 AS CardAmount , cc.cardno                      AS CardNumber , ld.loandetseqno                AS LoanDetailRef , ld.pymntprovseqno              AS PaymentProvider , CASE WHEN id.pymntmethodsseqno = 5 THEN id.pymntprovname ELSE NULL END                            AS PaymentProviderOther , ld.FinanceProviderAccountSeqNo AS PaymentProviderAccount , CASE WHEN id.pymntmethodsseqno IN (3,4) THEN id.finchrg ELSE NULL END                            AS PaymentProviderFinanceCharge , CASE WHEN id.pymntmethodsseqno IN (3,4) THEN ld.aprperc ELSE NULL END                            AS PaymentProviderAPR , NVL(ld.loanagreeno,id.ppotherdetail) AS LoanAgreementNo , ld.RateReference               AS LoanRef , ld.Terms                       AS Terms , ld.InstallmentNo               AS PremiumFinanceNoOfInstalments , ld.GrossFinPerc                AS GrossFinanceChargePercentage , ld.NetFinPerc                  AS NetFinanceChargePercentage , ld.AnnualFee                   AS AnnualFee , ld.MonthlyFee                  AS MonthlyFee , ld.Deposit                     AS DepositAmount FROM invdetails id LEFT JOIN loandetail ld ON id.payplanseqno = ld.loandetseqno AND id.pymntmethodsseqno IN (3,4) LEFT JOIN creditcardtxn cc ON id.invdetseqno = cc.invdetseqno AND id.pymntmethodsseqno IN (1,3,4,7,10) LEFT JOIN bankdetails bd ON id.bankdetseqno = bd.bankdetseqno JOIN entity e ON id.entseqno = e.entseqno WHERE id.invdetseqno = :InvoiceRef AND id.entseqno = :ContactRef</pre>The only change here should be <pre>, CASE WHEN id.pymntmethodsseqno IN (3,4) THEN id.apr ELSE NULL END                            AS PaymentProviderAPR</pre>to<pre>, CASE WHEN id.pymntmethodsseqno IN (3,4) THEN ld.aprperc ELSE NULL END                            AS PaymentProviderAPR</pre>Thanks, David</description><start_date>2016-08-05</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>Internal Report</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value><value>6.0.6 (Pre-Prod)</value><value>6.0.6 (Prod)</value><value>6.0.5</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Invoicing - Premium Finance</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1130.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value>0</value></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value>6.0.6.42.32</value></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Locate an invoice which was invoiced to FPC: SELECT INVDETSEQNO, ENTSEQNO FROM INVDETAILS WHERE PYMNTMETHODSSEQNO = 3 AND INVDETSTATUS = 8 AND BROKSEQNO = :BrokSeqNo; 2. Run GetContactInvoiceDetails in the TH for this invoice ::DEFECT - PaymentProviderAPR = 0.00 Should be populated from loan details rather than invdetails</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value>Resolved an issue where Finance Provider APR was incorrectly showing as 0.00 when viewing Invoice Details.</value></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value>0</value></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>Resolved an issue where Finance Provider APR was incorrectly showing as 0.00 when viewing Invoice Details.</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>TD 08/08/2016: Fixed in Prod v6.0.6.42.32 VW 16/08/2016 Fixed in prod patch v1130.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>George Lekala</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>AccountSummaryTX.xsi</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>XSI query change</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>N/A</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>GetContactInvoiceDetails</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>1</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-08-05T12:46:41Z</created_on><updated_on>2016-08-25T10:15:50Z</updated_on><closed_on/></issue><issue><id>248339</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"132\" name=\"CR Section\"/><status id=\"125\" name=\"[Pre-Prod] Dev Internal Test\"/><priority id=\"6\" name=\"Medium\"/><author id=\"48\" name=\"Marcin Dembowski\"/><assigned_to id=\"825\" name=\"Tshimangadzo Davhana\"/><parent id=\"238158\"/><subject>CR1099 - 11 - WS Test Harness - Don't clear password when changing UserName</subject><description>WS Test Harness - Don't clear password when changing UserName</description><start_date>2016-08-04</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value/></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>Open the test harness tool, open any environment - default user / password populated. Change the user name manually to a user who is not defined on your tool - The password field is not cleared down.</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Celumusa Zulu</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"827\" name=\"QA Testing Assignee\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"855\" name=\"FE Dev Estimate (days)\"><value/></custom_field><custom_field id=\"856\" name=\"BE Dev Estimate (days)\"><value/></custom_field><custom_field id=\"857\" name=\"SCC Dev Estimate (days)\"><value>0.125</value></custom_field><custom_field id=\"858\" name=\"FE Test Estimate (days)\"><value/></custom_field><custom_field id=\"859\" name=\"BE Test Estimate (days)\"><value/></custom_field><custom_field id=\"860\" name=\"SCC Test Estimate (days)\"><value>0.125</value></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-08-04T15:48:49Z</created_on><updated_on>2016-09-07T13:28:39Z</updated_on><closed_on/></issue><issue><id>248004</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"3\" name=\"Low\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"211\" name=\"Mashudu Maranda\"/><parent id=\"223931\"/><subject>CR972 - Broker Document Template GMT - Risk Document Details frame always available when clicking modify</subject><description>Hi, The Risk Document Details frame in the Broker Document Template GMT is always available when first clicking modify on a template. This should only be available if the policy or quote modules are selected for the template (similarly to the PostAccept/PreAccept check boxes). Once any of the modules available on the template have been updated then the frame has the correct availability until the template is modified again. Please could you take a look? Thanks, Dan</description><start_date>2016-08-02</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>Internal Report</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value><value>6.0.7 (Pre-Prod)</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Internal Tools - General Master Tables</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1138.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Go to Broker Document Template GMT  2. Choose a template that is not for quote or policy module > Modify  :: Risk Doc indicators are editable - DEFECT  3. Tick 'Include as Pre Accept Doc' checkbox > Save  :: Changes saved - DEFECT</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The Risk Document Details frame should only be available if either of the Policy or Quote modules has been ticked for the template.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>KM 24/08/2016 Fixed in Trunk patch v1135 KM 29/08/2016 Fixed in Trunk patch v1138</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Karabo Modise</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Mashudu Maranda</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value>GMT</value></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value/></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Front-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Internal Tools - General Master Tables</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-08-02T11:54:24Z</created_on><updated_on>2016-09-02T08:56:18Z</updated_on><closed_on/></issue><issue><id>247690</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223956\"/><subject>CR972 - PolMainActivityDocLink rows duplicated when accepting an e-trade quote.</subject><description>Hi, The rows in PolMainActivityDocLink are being duplicated when accepting an e-trade quote. New rows should only be inserted into PolMainActivityDocLink when the new policy is created (which is happening correctly). Thanks, Dan</description><start_date>2016-07-28</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>Regression Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>File &amp; Diary - Electronic File</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1133.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>Steps assume Web methods are not running. Queries A, B and C do not need to be run if they are. 1. Add an Xtra Assistance RFQ (AddOns>Personal>Xtra Assistance). 2. Complete risk details and submit. 3. Jump to the quote received and run query A and B in additional info to set the quote to manual and obtained. 4. Create a document on the quote that uses a risk document template (configurable in broker document template GMT). 5. Run query D to check PolMainActivityDocLink :: One row inserted for created document - correct. 6. Add a premium to the quote and complete any mandatory fields. 7. Run query C to set the quote back to e-trade. 7. Accept the quote. :: Quote moves to Submitted for Acceptance status 8. Run query D again. :: Defect - row has been duplicated.</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The only rows inserted into PolMainActivityDocLink when a quote is accepted should be for the created policy. </value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>Query A UPDATE Quote SET QuoteStatusSeqNo = 2 WHERE QuoteSeqNo = :QuoteRef; COMMIT; Query B UPDATE PolMain SET ManualInd = 7 WHERE PolMainSeqNo = (SELECT PolMainSeqNo FROM Quote WHERE QuoteSeqNo = :QuoteRef); Query C UPDATE PolMain SET ManualInd = 5 WHERE PolMainSeqNo = (SELECT PolMainSeqNo FROM Quote WHERE QuoteSeqNo = :QuoteRef); COMMIT; Query D SELECT * FROM PolMainActivityDocLink WHERE PolMainSeqNo = (SELECT PolMainSeqNo FROM Quote WHERE QuoteSeqNo = :QuoteRef);</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>TD 22/08/2016: Fixed in Trunk v1133.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>IssuePolicy.dll</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>File &amp; Diary - Electronic File</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-07-28T16:45:23Z</created_on><updated_on>2016-08-25T15:03:14Z</updated_on><closed_on/></issue><issue><id>241323</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"790\" name=\"Stephen Hare\"/><assigned_to id=\"238\" name=\"Chad Mortlock\"/><parent id=\"225586\"/><subject>CR653 - Need separate triggers for each context level</subject><description>Hi, Where there are triggers that exist at multiple context levels, we need a separate (duplicate) trigger for each context level. This is so that the trigger will be able to get the relevant context data and create a task. We need the following new triggers to be added: * Premium Overridden with Auth Code * Premium Overridden without Auth Code * Commission Discount with Auth Code * Commission Discount without Auth Code * Refer Continue with Auth Code * Refer Continue without Auth Code * ToB Sent To Client Set to Yes * ToB Sent To Client Set to No * IDD Sent To Client Set to Yes * IDD Sent To Client Set to No * SoDaN Sent To Client Set to Yes * SoDaN Sent To Client Set to No * Policy Summary Sent To Client Set to Yes * Policy Summary Sent To Client Set to No * Policy Wording Agreed with Insurer &amp; Client Set to Yes * Policy Wording Agreed with Insurer &amp; Client Set to No * Policy Documentation Received from Insurer Set to Yes * Policy Documentation Received from Insurer Set to No * Policy Documentation Sent To Client Set to Yes * Policy Documentation Sent To Client Set to No * Insurer Notified of ELTO Data Set to Yes * Insurer Notified of ELTO Data Set to No * Sales Script Read to Client Set to Yes * Sales Script Read to Client Set to No * Contract Concluded by Telephone Set to Yes * Contract Concluded by Telephone Set to No * Pre Authorisation Created * Pre Authorisation Fulfilled * Pre Authorisation Removed * Pre Approval Created * Pre Approval Fulfilled * Pre Approval Removed * Status set to Refer Continue * Finance Quote Created * Finance Quote Removed * Insurer Quote Number Updated * Insurer Policy Number Updated The code should be copied from the existing code for the triggers already added. Updated scripts are attached to the main CR653 redmine (#43953).</description><start_date>2016-06-03</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Engines - Task Management</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1130.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1: Set up a Quote level workflow with ToB Sent To Client Set to Yes trigger 2: Set up a Policy level workflow with the same trigger 3: Open a Quote and fire the trigger 4: Open a Policy and fire the trigger :: Only one of the workflows will create a task. This is dependant on the KeyInd on the TMTriggerParameterLnk table for the trigger</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>Both workflows should create a task</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 16/08/2016 Fixed in prod patch v1130.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Chad Mortlock</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Full Policy</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>InvoiceTX.xsi</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Engines - Task Management</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-06-06T08:41:17Z</created_on><updated_on>2016-08-31T10:48:30Z</updated_on><closed_on/></issue><issue><id>237525</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"5\" name=\"High\"/><author id=\"790\" name=\"Stephen Hare\"/><assigned_to id=\"238\" name=\"Chad Mortlock\"/><parent id=\"225588\"/><subject>Missing Outer joins in GetQuoteData and GetPolicyData queries</subject><description>The GetQuoteData and GetPolicyData queries are missing outer joins to the RatingDetails table. This is causing triggers to error for quotes and policies that have no row in the RatingDetails table. The procs should be updated as in the attached document where highlighted. Please let me know asap if you can't replicate as this is blocking testing. Thanks, Stephen</description><start_date>2016-05-05</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Engines - Task Management</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1087.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1: Set up a Quote Level workflow with trigger 'ToBSentToClientSetToYes' 2: Obtain a quote with no row in RatingDetails (e.g. 1607976999 in yellow brokerage, alternatively add an Aircraft RFQ) 3: Tick the ToBSentToClient check box on the Additional Details screen and apply 4: Run Select * from TMTriggerLog where TMTriggerSeqNo = 273 Order By TMStamp desc --Row errors in TMTriggerLog, Defect</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>Trigger should process correctly and create a task</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 09/05/2016 Fixed in prod patch v1083.0 VW 11/05/2016 Fixed in prod patch v1085.0 VW 12/05/2016 Fixed in prod patch v1087.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Chad Mortlock</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>TMExtracts.xsi</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>N/A</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Engines - Task Management</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-05-05T10:16:55Z</created_on><updated_on>2016-08-25T15:24:14Z</updated_on><closed_on/></issue><issue><id>237251</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"957\" name=\"Celumusa Zulu\"/><parent id=\"223937\"/><subject>CR972 - AddPartRiskDocument - PartRefRiskDocumentRef data authorisation being used for Add call</subject><description>Hi, The AddPartRiskDocument call is using the PartRefRiskDocumentRef authorisation. This will always fail since no row will exist in PolMainActivityDocLink. Please could the AddPartRiskDocument use the PartRefDocumentRef authorisation instead. *Note:* #233775 added the PartRefRiskDocumentRef authorisation to the Remove call, please could the Remove call continue using this. However, if the authorisations used have to be consistent across the call family, then please could #233775 be reverted? Thanks, Dan</description><start_date>2016-05-04</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>N/A</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1087.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an Aircraft RFQ and obtain a quote.  2. Accept the Quote.  3. Create a document on the policy.  4. Run query in additional info to obtain DocumentRef.  5. Run AddPartRiskDocument for the Policy.  :: Fails data authorisation</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The call should be successful if the DocumentRef belongs to the PartRef input.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>select ad.activitydocseqno from reftable rt, activitydoc ad where rt.reftypeseqno = 2 and rt.refno = :VersionRef and rt.activityseqno = ad.activityseqno;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>TD 12/05/2016: Fixed in Trunk v1087.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Celumusa Zulu</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>N/A</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>N/A</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>AddPartRiskDocument</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-05-04T09:01:24Z</created_on><updated_on>2016-08-25T15:17:43Z</updated_on><closed_on/></issue><issue><id>234547</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"790\" name=\"Stephen Hare\"/><assigned_to id=\"28\" name=\"Brian Bellwood\"/><parent id=\"225595\"/><subject>Parameter Versions not populating in FE</subject><description>When trying to add the new parameters to a workflow, the Value dropdown list is empty. These lists should have been populated by the parameter versions as specified in section 5.1.2 in the CR.</description><start_date>2016-04-15</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>File &amp; Diary - Task Management</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1077.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1: Add a contact level workflow with a step 2: Click Modify rules -> Add 3: Select a Parameter of Contact Account Handler Office is set to and attempt to add a value --Value dropdown is empty, Defect</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The Value dropdown should be populated by the BrokOff parameter version</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value/></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 26/04/2016 Fixed in prod patch v1077.0</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>Yes</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Brian Bellwood</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Parm</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value>Full FE Compile</value></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>EntStatus, CancelReasonCode, BrokAcceptanceReason, BrokRemarketReason, BrokReinstatementReason</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value>Scripts\\Scripts Release 6.0+\\Defect 234547\\*.*</value></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Front-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>File &amp; Diary - Task Management</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-15T12:00:07Z</created_on><updated_on>2016-08-25T15:24:55Z</updated_on><closed_on/></issue><issue><id>233775</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"957\" name=\"Celumusa Zulu\"/><parent id=\"223939\"/><subject>CR972 - RemovePartRiskDocument - PartRefRiskDocumentRef authorisation not run for RemovePartRiskDocument call</subject><description>Hi, The PartRefRiskDocumentRef authorisation is not being run when the RemovePartRiskDocument web service call is made. Thanks, Dan</description><start_date>2016-04-12</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>N/A</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1079.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an aircraft RFQ. 2. Choose a product, complete risk details and submit to obtain a quote. 3. Create a document on the quote using a template with risk document indicators checked (configurable in Broker Document Template GMT). 4. Repeat steps 1-3 to obtain a second quote with a risk document attached. 5. Run query from add info on the second quote to obtain the DocumentRef of the second document. 6. Initialise RemovePartRiskDocument. 7. Enter the ContactRef and PartRef of the first quote and DocumentRef of the second quote (step 5). 8. Execute the call. ::Passes data validations - defect</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The PartRefRiskDocumentRef data authorisation should be performed. In the steps above the call should fail the authorisation.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>--DocumentRef select ad.activitydocseqno as DocumentRef from reftable rt, activitydoc ad where rt.reftypeseqno = 4 and rt.refno = :QuoteRef and rt.activityseqno = ad.activityseqno;   --PartRef SELECT pm.PolPartSeqNo FROM PolMain pm, Quote q WHERE q.QuoteSeqNo = :QuoteRef AND q.PolMainSeqNo = pm.PolMainSeqNo;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Celumusa Zulu</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value/></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>N/A</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>N/A</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>RemovePartRiskDocument</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-12T14:46:47Z</created_on><updated_on>2016-08-25T15:17:46Z</updated_on><closed_on/></issue><issue><id>233754</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223957\"/><subject>CR972 - GetPartRiskDocuments - Incorrect product name returned for addons.</subject><description>Hi, The three procedures called by the GetAddOnRiskDocuments function are currently returning the product name of the main quote/policy rather than that of the add on. Please could the below line be updated in the following procedures: * GetQuoteAddOnRiskDocument * GetPreAcceptRiskDocument * GetPostAcceptRiskDocument From:<pre>AND PM.ProductSeqNo = PD.ProductSeqNo</pre>To:<pre>AND PM_AO.ProductSeqNo = PD.ProductSeqNo</pre>Note: Please ensure the updates for #233713 are not overwritten when making this change. Thanks, Dan</description><start_date>2016-04-12</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>N/A</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1070.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an aircraft RFQ.  2. Add a General legal expenses add on.  3. Choose a product, complete risk details and submit to obtain a quote.  4. Navigate to the add on quote.  5. Create a document on the add on quote using a template with risk document indicators checked (configurable in Broker Document Template GMT).  6. Navigate to the main quote and complete mandatory details.  7. Accept the quote (making sure the addon is selected on confirm details popup). 8. Unaccept the new business ::Policy is in obtained status - correct  9. Initialise the GetPartRiskDocument call.  10. Enter details for the new business and set IncludeAddOnsIndicator to 6 and the remaining indicators to 5.  11. Execute the call.  :: Product Name returned is for the new business (Aircraft Hull) rather than the Add On (Arc Legal Expenses).</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The product name returned should be from the addon quote/policy</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>SELECT pm.PolPartSeqNo FROM PolMain pm, Policy p WHERE p.PolSeqNo = :VersionRef AND p.PolMainSeqNo = pm.PolMainSeqNo;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Part.dll</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>PolMainActivityDocLink.xsi</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>XSI query change</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>N/A</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>GetPartRiskDocument</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-12T13:40:48Z</created_on><updated_on>2016-08-25T15:21:21Z</updated_on><closed_on/></issue><issue><id>233713</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223957\"/><subject>CR972 - GetPartRiskDocument - Method timing out when GetPostAcceptPolicyAddOnRiskDocuments procedure called.</subject><description>Hi, The GetPostAcceptPolicyAddOnRiskDocuments procedure is currently causing the GetPartRiskDocument method to time out when it is called. This is due to some unnecessary Cartesian joins in the query. Please could the procedure be updated to the below (removing QuoteCoIns, Product and PrdtCommDetails tables from main query, these should only be in the 'PM' sub query like the other procedures for this method):<pre>SELECT PM.EntSeqNo AS ContactRef ,PM.PolPartSeqNo AS PartRef ,A.ActivitySeqNo AS ActivityRef ,AD.ActivityDocSeqNo AS DocumentRef ,PM.PolicyAddOnInd AS IsAddOnIndicator ,PM.ProductTargetSeqNo AS ProductTarget ,PM.InsSeqNo AS Insurer ,PM.ProductSeqNo AS Product ,PM.ProductName AS ProductName ,SUBSTR(A.Status,3,2) AS ContextType ,( SELECT MIN(R.RefNo) FROM RefTable R WHERE R.RefTypeSeqNo = SUBSTR(A.Status,3,2)  AND R.ActivitySeqNo =  A.ActivitySeqNo  ) AS ContextRef     ,TO_CHAR (A.ActivityDate, 'YYYYMMDDHH24MISS') AS ActivityDate ,TO_CHAR (A.ActivityTime, 'YYYYMMDDHH24MISS') AS ActivityTime ,A.ActivityTypeSeqNo AS ActivityType ,A.ActivityDirectionSeqNo AS ActivityDirection ,A.Comments AS ActivityDescription ,R.HideInd AS HideActivityIndicator ,U.UsrUserSeqNo AS LastUpdatedBy     ,A.VersionNo AS VersionNo ,DECODE(SUBSTR(a.Status,1,1),1,6,5) AS LatestVersionIndicator ,PMA.PreAcceptRiskDocInd AS PreAcceptRiskDocIndicator ,PMA.PostAcceptRiskDocInd AS PostAcceptRiskDocIndicator ,DECODE(AR.ParentActivitySeqNo, -1, AR.ChildActivitySeqNo, AR.ParentActivitySeqNo) as ParentActivityRef ,AD.DocName AS DocumentRef_Detail ,NVL(DECODE(AD.AttFileInd, 5, 7, 6, DECODE(AD.Status, 6, 6, 5, DECODE(AD.DocPath, 'No Path', 8, 5)), 7, DECODE(AD.Status, 6, 6, 5, DECODE(AD.DocPath, 'No Path', 8, 5))), -1) AS DocumentRef_AttachedInd ,NVL(AD.AddedByUserSeqNo, -1) AS AddedBy ,AD.AddedByDate AS AddedDate ,AD.UNCOMPRSSDFLSIZE AS FileSize FROM (SELECT POL.PolMainSeqNo, PM_AO.BusEventSeqNo, PM_AO.ProductTargetSeqNo, PM_AO.ProductSeqNo, PM_AO.PolPartSeqNo, NVL(PM_AO.DisplayName,PCD.Name) AS ProductName, QCI.InsSeqNo, PM_AO.PolicyAddOnInd, PM_AO.EntSeqNo FROM PolMain PM, PolMainRel PMR_AOPOL, Policy POL, PolMain PM_AO, QuoteCoIns QCI, Product PD, PrdtCommDetails PCD WHERE  PM.PolPartSeqNo = :PartRef AND PM.BusEventSeqNo IN (0 ,1 ,2 ,3 ,4 ,6 ,8) AND PM.EntSeqNo = :ContactRef AND PM.PolMainSeqNo = PMR_AOPOL.ParentPolMainSeqNo AND PMR_AOPOL.PolMainRelTypeSeqNo = 11 AND PMR_AOPOL.ChildPolMainSeqNo = POL.PolMainSeqNo AND PMR_AOPOL.ChildPolMainSeqNo = PM_AO.PolMainSeqNo AND PM.PolPartSeqNo = QCI.PolPartSeqNo AND QCI.Status = 1 AND QCI.PrimInsInd = 6 AND PM.ProductSeqNo = PD.ProductSeqNo AND PD.PrdtCommDetSeqNo = PCD.PrdtCommDetSeqNo ) PM ,PolMainActivityDocLink PMA ,ActivityDoc AD ,ActivityLog A ,ActivityRel AR ,RefTable R ,UsrUser U  WHERE    PM.PolMainSeqNo = PMA.PolMainSeqNo $IncludePreAcceptRiskDocuments $IncludePostAcceptRiskDocuments AND PMA.ActivityDocSeqNo = AD.ActivityDocSeqNo AND AD.ActivitySeqNo = A.ActivitySeqNo AND  A.ActivitySeqNo = R.ActivitySeqNo AND DECODE(PM.BusEventSeqNo,0,4,2) = R.RefTypeSeqNo  --Match BusEventSeqNo to RefType row on RefTable AND A.ActivitySeqNo = AR.ChildActivitySeqNo AND U.LogonID (+) = A.USID AND A.BrokSeqNo = :BrokSeqNo</pre></description><start_date>2016-04-12</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>N/A</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1070.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an aircraft RFQ. 2. Add a General legal expenses add on. 3. Choose a product, complete risk details and submit to obtain a quote. 4. Navigate to the add on quote. 5. Create a document on the add on quote using a template with risk document indicators checked (configurable in Broker Document Template GMT). 6. Navigate to the main quote and complete mandatory details. 7. Accept the quote (making sure the addon is selected on confirm details popup). 8. Initialise the GetPartRiskDocument call. 9. Enter details for the new business and set IncludeAddOnsIndicator to 6 and the remaining indicators to 5. 10. Execute the call. :: Call times out.</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>SELECT pm.PolPartSeqNo FROM PolMain pm, Policy p WHERE p.PolSeqNo = :VersionRef AND p.PolMainSeqNo = pm.PolMainSeqNo;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Part.dll</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value>PolMainActivityDocLink.xsi</value></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>XSI query change</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>N/A</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>GetPartRiskDocument</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-12T11:50:50Z</created_on><updated_on>2016-08-25T15:21:18Z</updated_on><closed_on/></issue><issue><id>233320</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223952\"/><subject>CR972 - PolMainActivityDocLink row not invlidated when renewals or cancellations are set to manual.</subject><description>Hi, The PolMainActivityDocLink rows for risk documents linked to renewals or cancellations are not being updated to status 0 when the policy is set to manual. This is working correctly for other business events. Thanks, Dan</description><start_date>2016-04-08</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>RFQ\\Quote\\Policy - Policy</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1070.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an Autorated Test Product RFQ (Schemes > Yellow > Autorated Test Product) 2. Select the E-trade product, complete risk details and submit to obtain a quote. 3. Accept the quote. 4. Process a renewal on the new business. 5. Validate any risk updates and submit to set status to obtained. 6. Create a document using a template with risk document indicators enabled (configurable in Broker Document Template GMT). 7. Run query 2. :: Row added for renewal - correct 8. On the renewal main details set to manual. 9. Run query 2 again. :: Row still has status 1 - defect. 10. Repeat for cancellation (run query 2 after creating the cancellation if integrated cancellations are not supported and the cancellation is added as manual).</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The PolMainActivityDocLink rows should have status updated to 0 if the policy is set to manual. This is working as expected for most business events, it just seems to be renewals and cancellations where it does not occur.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>Query 1  UPDATE PolMain SET ManualInd = 5 WHERE PolMainSeqNo = (SELECT PolMainSeqNo FROM Policy WHERE PolSeqNo = :VersionRef); COMMIT; Query 2 SELECT * FROM PolMainActivityDocLink ORDER BY TmStamp DESC;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Renewal.dll Cancellation.dll RFQ.dll</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>RFQ\\Quote\\Policy - Policy</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-08T16:39:44Z</created_on><updated_on>2016-08-25T15:20:44Z</updated_on><closed_on/></issue><issue><id>233280</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223951\"/><subject>CR972 - PolMainActivityDocLink row not invalidated when a policy is submitted/resubmitted</subject><description>Hi, The status of the PolMainActivityDocLink row is not being updated to status 0 when a policy is resubmitted (see section 6.8 of CR972). The row is invalidated correctly at quote level. Thanks, Dan</description><start_date>2016-04-08</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>RFQ\\Quote\\Policy - Policy</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1073.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an Xtra Assistance RFQ (AddOns > Personal > Xtra Assistance). 2. Complete risk details and submit to obtain a quote. 3. Create a document using a template with risk document indicators enabled (configurable in Broker Document Template GMT). 4. Resubmit the quote. 5. Run query in additional info. :: PolMainActivityDocLink row updated to status 0 - correct. 6. Accept the quote. 7. Process an obtained MTA on the created new business. 8. Create a document on the MTA using the same template as before. 9. Resubmit the MTA. 10. Run query again. :: Status still 1 - defect 11. Repeat for other business events; renewal, cancellation, reinstatement, declaration, new business.</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The PolMainActivityDocLink row for the policy should be updated to status = 0 when a policy is resubmitted.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>SELECT * FROM PolMainActivityDocLink ORDER BY TMStamp DESC;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Full Policy</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>RFQ\\Quote\\Policy - Policy</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-08T15:13:52Z</created_on><updated_on>2016-08-25T15:20:41Z</updated_on><closed_on/></issue><issue><id>233245</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223950\"/><subject>CR972 - PolMainActivityDocLink status not updated when subsidiaries added set policy to pending</subject><description>Hi, The PolMainActivityDocLink status is only being set to status 0 at quote level when the integrated subsidiary supported transaction update the quote/policy status to pending. This should also be occurring policies. Thanks, Dan</description><start_date>2016-04-08</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>RFQ\\Quote\\Policy - Policy</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1076.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add the Integrated Subsidiaries Supported transaction to a product (eg. Ageas Prestige for Portfolio Household).  2. Add a Portfolio Household RFQ and select the product with the ST.  3. Complete risk details and submit to obtain a quote. 4. Accept the quote and process an MTA.  5. Resubmit the MTA if not in obtained status. 6. Create a document on the MTA using a template with risk document indicators checked (configurable in Broker Document Template GMT). 7. Run query in add info. :: PolMainActivityDocLink row created - correct 8. Add a subsidiary to the MTA. :: MTA set to pending status 9. Run the query again. :: Row status = 1 - defect.  10. Repeat for other business events; renewal, cancellation, reinstatement and declaration.</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The status of the PolMainActivityDocLink row should be set to 0 when the policy status is set to pending by the integrated subsidiaries supported transaction.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>SELECT * FROM PolMainActivityDocLink ORDER BY TMStamp DESC;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Full_Policy</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>RFQ\\Quote\\Policy - Policy</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-08T13:57:04Z</created_on><updated_on>2016-08-25T15:20:39Z</updated_on><closed_on/></issue><issue><id>233224</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"431\" name=\"Daniel Luxford\"/><assigned_to id=\"756\" name=\"Cebolenkosi Makeleni\"/><parent id=\"223946\"/><subject>CR972 - PolMainActivityDocLink row not deactivated when adding claims history sets policy to pending</subject><description>Hi, The PolMainActivityDocLink row for a policy is not updated to status 0 when a claims history is added to a policy with the supported transaction to set the policy to pending. This functions correctly at RFQ/quote level. Thanks, Dan</description><start_date>2016-04-08</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value>CR Test</value></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>RFQ\\Quote\\Policy - Claims History</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value/></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1070.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value/></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Add an autorated test product RFQ (schemes>yellow>autorated test product). 2. Select the E-trade product, complete risk details and submit to obtain a quote. 3. Accept the quote. 4. Process an MTA. 5. Create a document on the MTA using a template with risk document indicators enabled (configurable in Broker Document Template GMT). 6. Run query in add info :: Link row added - correct. 7. Add a claims history to the MTA :: MTA status updated to pending. 8. Run the query again :: MTA row still has status = 1 - defect. 9. Repeat for other business events; renewal, cancellation, declaration, reinstatement.</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value>The PolMainActivityDocLink row should be updated to status 0, as per quote level.</value></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>SELECT * FROM PolMainActivityDocLink ORDER BY TmStamp DESC;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>n/a</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>n/a</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value/></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Tshimangadzo Davhana</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Cebolenkosi Makeleni</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>RiskCapture.dll</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>RFQ\\Quote\\Policy - Claims History</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-04-08T11:36:20Z</created_on><updated_on>2016-08-25T15:20:35Z</updated_on><closed_on/></issue><issue><id>231887</id><project id=\"342\" name=\"Yellow Application Development R6.0 (L)\"/><tracker id=\"131\" name=\"Defect\"/><status id=\"122\" name=\"[Pre-Prod] Active\"/><priority id=\"6\" name=\"Medium\"/><author id=\"426\" name=\"Anthony Mercer\"/><assigned_to id=\"963\" name=\"Karabo Modise \"/><parent id=\"212434\"/><subject>CR1028 - AddClaim - ClientAtFaultPercentage being set to -1 when adding a claim with ClientAtFaultInd set to 5</subject><description>Hi, When adding a claim using the AddClaim web service call with ClientAtFaultIndicator set to 5, the ClientAtFaultPercentage is being populated in the database as -1. This value should be null as per functionality when ClientAtFaultIndicator is set to null. Thanks, Anthony</description><start_date>2016-03-30</start_date><due_date/><done_ratio>0</done_ratio><is_private>false</is_private><estimated_hours/><custom_fields type=\"array\"><custom_field id=\"83\" name=\"How Found'\"><value/></custom_field><custom_field id=\"844\" name=\"Affected code versions\" multiple=\"true\"><value type=\"array\"><value>Trunk</value></value></custom_field><custom_field id=\"87\" name=\"Module'\"><value>Claims  General</value></custom_field><custom_field id=\"6\" name=\"Resolution Code\"><value>Sent For Testing</value></custom_field><custom_field id=\"181\" name=\"Trunk Resolution drop No\"><value>1067.0</value></custom_field><custom_field id=\"782\" name=\"Pre-Prod Resolution drop No\"><value>6.0.7.21</value></custom_field><custom_field id=\"684\" name=\"Prod Resolution drop No\"><value/></custom_field><custom_field id=\"8\" name=\"Steps to reproduce\"><value>1. Use the AddClaim web service call to add a claim with ClientAtFaultIndicator set to null. 2. Run the query in Additional Info for your claim. -- ClientAtFaultPercentage is correctly null 3. Use the AddClaim web service call to add a claim with ClientAtFaultIndicator set to 5. 4. Run the query in Additional Info for your new claim. :: DEFECT - ClientAtFaultPercentage is -1 instead of null</value></custom_field><custom_field id=\"9\" name=\"Expected results\"><value/></custom_field><custom_field id=\"10\" name=\"Additional Info\"><value>select clientatfaultind, clientatfaultpercentage from claim where claimseqno = :ClaimRef ;</value></custom_field><custom_field id=\"88\" name=\"Footprint No'\"><value>N/A</value></custom_field><custom_field id=\"20\" name=\"Release version No\"><value/></custom_field><custom_field id=\"650\" name=\"Internal release notes\"><value/></custom_field><custom_field id=\"869\" name=\"Needed in Rel Notes/Func Guide\"><value/></custom_field><custom_field id=\"850\" name=\"Include in Client Notes?\"><value/></custom_field><custom_field id=\"89\" name=\"Release notes Desc'\"><value>N/A</value></custom_field><custom_field id=\"27\" name=\"Resolution\"><value>VW 11/04/2016 Fixed in prod patch v1067.0 VW 12/08/2016 Fixed in prod patch v6.0.7.21</value></custom_field><custom_field id=\"47\" name=\"Act Finish Date\"><value/></custom_field><custom_field id=\"97\" name=\"Analyst Assigned To\"><value>Vandra Wiehahn</value></custom_field><custom_field id=\"102\" name=\"Priority Defect\"><value>No</value></custom_field><custom_field id=\"113\" name=\"Deferred reason\"><value/></custom_field><custom_field id=\"115\" name=\"Developer\" multiple=\"true\"><value type=\"array\"><value>Chad Mortlock</value></value></custom_field><custom_field id=\"146\" name=\"Back End Components\"><value>Claim</value></custom_field><custom_field id=\"147\" name=\"Front End Components\"><value/></custom_field><custom_field id=\"148\" name=\"XSI Files\"><value/></custom_field><custom_field id=\"177\" name=\"Scripts\"><value/></custom_field><custom_field id=\"178\" name=\"Applications or Client Tools\"><value/></custom_field><custom_field id=\"230\" name=\"Exclude from Regression Tests\"><value>0</value></custom_field><custom_field id=\"247\" name=\"Completed Date\"><value/></custom_field><custom_field id=\"287\" name=\"Crucible Reviewers\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"288\" name=\"Crucible No.\"><value/></custom_field><custom_field id=\"292\" name=\"Trunk - pre-prod merge\"><value/></custom_field><custom_field id=\"843\" name=\"Scope Change?\"><value/></custom_field><custom_field id=\"771\" name=\"App Functional Area\"><value>Back-end processing issue</value></custom_field><custom_field id=\"773\" name=\"App Module\"><value>Claims  General</value></custom_field><custom_field id=\"774\" name=\"WS Function\"><value>N/A</value></custom_field><custom_field id=\"775\" name=\"[Merge Review] Trunk > PreProd\"><value>0</value></custom_field><custom_field id=\"784\" name=\"[Merge Review] Pre-Prod > Prod\"><value>0</value></custom_field><custom_field id=\"823\" name=\"Production Defect?\"><value>0</value></custom_field><custom_field id=\"854\" name=\"Old Project\"><value/></custom_field><custom_field id=\"903\" name=\"Needed in R6.0.6++?\"><value/></custom_field><custom_field id=\"906\" name=\"Regression Scope (Developers)\"><value/></custom_field><custom_field id=\"939\" name=\"Code Review Status\"><value/></custom_field><custom_field id=\"938\" name=\"Code Reviewed by (BB&amp;D)\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"935\" name=\"Code Reviewed on Branch\" multiple=\"true\"><value type=\"array\"/></custom_field><custom_field id=\"936\" name=\"Code Review Notes\"><value/></custom_field><custom_field id=\"943\" name=\"Footprint Subject to SLA\"><value/></custom_field><custom_field id=\"941\" name=\"Footprint Merge List\"><value/></custom_field><custom_field id=\"942\" name=\"Footprint Merge Notes\"><value/></custom_field><custom_field id=\"946\" name=\"Needed for UI 7.2.1?\"><value/></custom_field></custom_fields><created_on>2016-03-30T15:11:42Z</created_on><updated_on>2016-09-08T05:24:13Z</updated_on><closed_on/></issue></issues>";
	        String RedmineXML5109 = "";
	        
	        if(id[i].equals("5107"))
	        {
	        	  //****Query 5107 variables***
	        	  String queryID5107 = "";
	        	  String subject5107 = "";
	        	  String assignee5107 = "";
	        	  String analyst5107 = "";
	        	  int x;
	        	  JSONObject jObj5107 = new JSONObject();
	        	 
				  DocumentBuilder builder5107 = DocumentBuilderFactory.newInstance().newDocumentBuilder();
				  InputSource src5107 = new InputSource();
				  src5107.setCharacterStream(new StringReader(RedmineXML5107));
				  Document doc5107 = builder5107.parse(src5107);
				  
				  NodeList issuesElements5107 = doc5107.getElementsByTagName("issues");
				  
				  Node issuesElement5107 = issuesElements5107.item(0);
				  
				  NodeList issues5107 = issuesElement5107.getChildNodes();
				  
				  Element issue5107;
				  //***Loop through all the issues in the query (total number of records for the query)***
				  for (x = 0; x < issues5107.getLength(); x++) 
				  {
					  issue5107 = (Element)issues5107.item(x);
					  
					  queryID5107 = issue5107.getElementsByTagName("id").item(0).getTextContent();
					  subject5107 = issue5107.getElementsByTagName("subject").item(0).getTextContent();
					  assignee5107 = issue5107.getElementsByTagName("assigned_to").item(0).getAttributes().getNamedItem("name").getNodeValue();
					  analyst5107 = "";
					  
					  NodeList customfieldsElements5107 = issue5107.getElementsByTagName("custom_fields");
					  Node customfieldElement5107 = customfieldsElements5107.item(0);						  
					  
					  NodeList customefields5107 = customfieldElement5107.getChildNodes(); 	
					  
					  Element customeField5107;
					  //****Loop through all the custom_field elements until the name attribute equals "Analyst Assigned To" then set the analyst variable = to the value of the cutom_field element****
					  for (int y = 0; y < customefields5107.getLength(); y++) 
					  {
						  customeField5107 = (Element)customefields5107.item(y);
						  String assignedCheck5107 = issue5107.getElementsByTagName("custom_field").item(y).getAttributes().getNamedItem("name").getNodeValue();
						  //System.out.println(assignedCheck);
						  if(assignedCheck5107.equals("Analyst Assigned To"))
						  {
							  analyst5107 = customeField5107.getElementsByTagName("value").item(0).getTextContent();
							  break;
						  }	
					  }
					  
					  //****Add all the variables to the JSONObject****
					  jObj5107.put("Query", id[i]);
					  jObj5107.put("Id", queryID5107);
					  jObj5107.put("Subject", subject5107);
					  jObj5107.put("Assignee", assignee5107);
					  jObj5107.put("Analyst", analyst5107);	
					  //****Add the JSONObject to the JSONArray
					  results.add(jObj5107);
				  }	
				  
			}
	        if(id[i].equals("5108"))
	        {
	        	//****Query 5108 variables***
	        	  String queryID5108 = "";
	        	  String subject5108 = "";
	        	  String assignee5108 = "";
	        	  String analyst5108 = "";
	        	  int x;
	        	  JSONObject jObj5108 = new JSONObject();
	        	 
				  DocumentBuilder builder5108 = DocumentBuilderFactory.newInstance().newDocumentBuilder();
				  InputSource src5108 = new InputSource();
				  src5108.setCharacterStream(new StringReader(RedmineXML5108));
				  Document doc5108 = builder5108.parse(src5108);
				  
				  NodeList issuesElements5108 = doc5108.getElementsByTagName("issues");
				  
				  Node issuesElement5108 = issuesElements5108.item(0);
				  
				  NodeList issues5108 = issuesElement5108.getChildNodes();
				  
				  Element issue5108;
				  //***Loop through all the issues in the query (total number of records for the query)***
				  for (x = 0; x < issues5108.getLength(); x++) 
				  {
					  issue5108 = (Element)issues5108.item(x);
					  
					  queryID5108 = issue5108.getElementsByTagName("id").item(0).getTextContent();
					  subject5108 = issue5108.getElementsByTagName("subject").item(0).getTextContent();
					  assignee5108 = issue5108.getElementsByTagName("assigned_to").item(0).getAttributes().getNamedItem("name").getNodeValue();
					  analyst5108 = "";
					  
					  NodeList customfieldsElements5108 = issue5108.getElementsByTagName("custom_fields");
					  Node customfieldElement5108 = customfieldsElements5108.item(0);						  
					  
					  NodeList customefields5108 = customfieldElement5108.getChildNodes(); 	
					  
					  Element customeField5108;
					  //****Loop through all the custom_field elements until the name attribute equals "Analyst Assigned To" then set the analyst variable = to the value of the cutom_field element****
					  for (int y = 0; y < customefields5108.getLength(); y++) 
					  {
						  customeField5108 = (Element)customefields5108.item(y);
						  String assignedCheck5108 = issue5108.getElementsByTagName("custom_field").item(y).getAttributes().getNamedItem("name").getNodeValue();
						  //System.out.println(assignedCheck);
						  if(assignedCheck5108.equals("Analyst Assigned To"))
						  {
							  analyst5108 = customeField5108.getElementsByTagName("value").item(0).getTextContent();
							  break;
						  }	
					  }
					  
					  //****Add all the variables to the JSONObject****
					  jObj5108.put("Query", id[i]);
					  jObj5108.put("Id", queryID5108);
					  jObj5108.put("Subject", subject5108);
					  jObj5108.put("Assignee", assignee5108);
					  jObj5108.put("Analyst", analyst5108);	
					  //****Add the JSONObject to the JSONArray
					  results.add(jObj5108);
		    }	
				  		        }
	        if(id[i].equals("5109"))
	        {
	        	  /*JSONObject jObj5109 = new JSONObject();
				  DocumentBuilder builder5109 = DocumentBuilderFactory.newInstance().newDocumentBuilder();
				  InputSource src5109 = new InputSource();
				  src5109.setCharacterStream(new StringReader(RedmineXML5109));
				  Document doc5109 = builder5109.parse(src5109);
				  
				  NodeList issuesElements5109 = doc5109.getElementsByTagName("issues");
				  
				  Node issuesElement5109 = issuesElements5109.item(0);
				  
				  NodeList issues5109 = issuesElement5109.getChildNodes();
				  
				  Element issue5109;
				  for (int x = 0; x < issues5109.getLength(); x++) 
				  {
					  issue5109 = (Element)issues5109.item(x);
					  
					  //Set variables = to XML elements
					  String queryID5109 = issue5109.getElementsByTagName("id").item(0).getTextContent();
					  
					  //Add variables to JSONObject
					  jObj5109.put("Query", id[i]);
					  
					  //Add JSONObject to JSONArray (results)
					  results.put(jObj5108.toString());
				  }*/
	        }
	        if(!id[i].equals("5107") && !id[i].equals("5108") && !id[i].equals("5109")) 
	        {
	        	System.out.println(id[i] + "is an invalid Query number, code only exists for Queries (5107, 5108 and 5109)." );
	        }
		}
		return DashboardUtils.toJson(results, listType);
		
	} catch (Exception e) 
	{
		e.printStackTrace();
		return null;
	}
  }
  
  public static void main(String[] args)
  {		
	  //****Code for Pieter/Evashan to retrieve XML data for query 5109****
		/*try {
			//****Loop through all the queries (5107, 5108 and 5109)****			
				@SuppressWarnings({ "resource", "deprecation" })
				HttpClient client = new DefaultHttpClient();
				HttpGet request = new HttpGet("https://redmine.acturis.com//projects/yellow-application-development-r6-0-l/issues.xml?query_id=5109&key=04c263c64e89b13424e67b5da2bcac4f82c1a8f8");
		        HttpResponse response = client.execute(request);
		        HttpEntity entity = response.getEntity();
		        String content = EntityUtils.toString(entity);
		        System.out.println(content);
		   }
		catch (Exception e) 
		{
		e.printStackTrace();
		}*/
	  	RedmineDAO obj = new RedmineDAO();
	    //****Testing***
	    for (int i = 0; i < obj.getRedmineQueryTest().length(); i++)	
	    {
	    	System.out.println(obj.getRedmineQueryTest());
	    }
	    //****Actuaris Server****
	    /*for (int i = 0; i < obj.GetRedmineQuery().length(); i++)	
	    {
	    	System.out.println(obj.GetRedmineQuery().get(i));
	    }*/
	}	

}
